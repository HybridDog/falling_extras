some code is copied from falling.lua
rest WTFPL
